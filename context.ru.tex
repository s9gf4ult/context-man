\mainlanguage[ru]

\setupinteraction[state=start]
\placebookmarks[chapter,section,subsection][chapter,section]
\setupinteractionscreen[option=bookmark]

\usemodule  [simplefonts][size=12pt]
\usemodule [vim]
\defineframedtext [CODEBLOCK][background=color,backgroundcolor=lightgray,width=\dimexpr(\textwidth-1cm),
                              frame=off,offset=2mm]
\defineframedtext [CODERESULT][width=\dimexpr(\textwidth-1cm),frame=off,offset=2mm]

\definevimtyping[TEX][syntax=context,before=\startCODEBLOCK,after=\stopCODEBLOCK]

\setmainfont[dejavusans][expansion=quality,protrusion=quality]
\setmonofont[monaco][expansion=quality,protrusion=quality]
%% \setupinterlinespace[1.15em]
\setupalign[width,stretch,tolerant]
\setuppagenumbering[location={footer,right}, style=bold]
\setupwhitespace[small]
\setupindenting[medium, no]

\setuplayout[topspace=0mm,backspace=1.5cm,header=1cm,
             footer=1.5cm,width=\dimexpr(\paperwidth-2.5cm),
             height=\dimexpr(\paperheight-1cm),margin=1.5cm]

\setuphead[chapter][align={nothyphenated,flushleft,tolerant},number=no,
                    after={\blank[1.5em]}]
\setuphead[section][align={nothyphenated,flushleft,tolerant},style={\tfa \bf},
                    number=no,before={\testpage[10] \blank[1em]},after={\blank[0.5em]}]

\definedescription[descr][indenting=1cm,indentnext=yes,location=right,
  width=\textwidth,distance=\dimexpr(1cm-\textwidth),align={width,stretch}]

\setupTABLE[loffset=1mm,roffset=1mm,align={flushleft,stretch,lohi}]

\definemakeup
  [titlepage]
  [align=center,footerstate=none]


\def\c{ \hbox{\ConTeXt} }

\starttext

\input common-rules.rus.tex

\input pictures.rus.tex

\input tables.rus.tex

\input recipies.rus.tex

\stoptext
