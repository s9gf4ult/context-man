\mainlanguage[ru]

\usemodule  [simplefonts][size=12pt]
\usemodule [vim]
\defineframedtext [CODEBLOCK][background=color,backgroundcolor=lightgray,width=\dimexpr(\textwidth-1cm),
                              frame=off,offset=2mm]
\defineframedtext [CODERESULT][width=\dimexpr(\textwidth-1cm),frame=off,offset=2mm]

\definevimtyping[TEX][syntax=context,before=\startCODEBLOCK,after=\stopCODEBLOCK]

\usemodule  [metafun]

\setmainfont[dejavusans][expansion=quality,protrusion=quality]
\setmonofont[monaco][expansion=quality,protrusion=quality]
%% \setupinterlinespace[1.15em]
\setupalign[width,stretch]
\setuppagenumbering[location={footer,right}, style=bold]
\setupwhitespace[small]
\setupindenting[medium, yes]

\setuplayout[topspace=0mm,backspace=2.5cm,header=1cm,
             footer=1.5cm,width=\dimexpr(\paperwidth-4cm),
             height=\dimexpr(\paperheight-1cm),margin=1.5cm]

\setuphead[title][align={nothyphenated,flushleft,stretch}]
\setuphead[subject][align={nothyphenated,flushleft}]

\definedescription[descr][indenting=1cm,indentnext=yes,location=right,
  width=\textwidth,distance=\dimexpr(1cm-\textwidth),align={width,stretch}]

\setupTABLE[loffset=1mm,roffset=1mm,align={flushleft,stretch,lohi}]

\definemakeup
  [titlepage]
  [align=center,footerstate=none]

\setupinteraction[state=start]

\def\c{ \hbox{\ConTeXt} }

\starttext

\input common-rules.rus.tex

\input pictures.rus.tex


\stoptext
