\chapter{Работа с картинками}

\section{\tex{externalfigure}}

Позволяет втсавить картинку.

\startdescr{code:} \hfill
\startTEX
\externalfigure[example.jpg][width=5cm]
\stopTEX
\stopdescr

\startdescr{result:} \hfill
\startCODERESULT
\externalfigure[example.jpg][width=5cm]
\stopCODERESULT
\stopdescr

\startTEX
\externalfigure[имя файла][параметры разделенные запятой]
\stopTEX

\placetable[here]{Параметры для \tex{placefigure}}{
\bTABLE

\bTR
\bTD width \eTD
\bTD Ширина картинки \eTD
\eTR

\bTR
\bTD height \eTD
\bTD Высота картинки \eTD
\eTR

\bTR
\bTD factor \eTD
\bTD обычно исползуют значение \quote{fit}.
\quote{factor=fit} масштабирует картинку под размер контейнера в котором
она находится. Будь это ячейка таблицы, либо простой параграф. \eTD
\eTR

\eTABLE}

\tex{externalfigure} не занимается управлением расположения картинки, она
просто вставляет картинку в то место, где была вызвана команда. Можно вставлять
картинку даже прямо в текст.

\vbox{
\startdescr{code:} \hfill
\startTEX
вот идет обычный параграв
\externalfigure[example.jpg][height=2em]
и параграф продолжается после вставки картинки.
\stopTEX
\stopdescr
}

\vbox{
\startdescr{result:} \hfill
\startCODERESULT
вот идет обычный параграв
\externalfigure[example.jpg][height=2em]
и параграф продолжается после вставки картинки.
\stopCODERESULT
\stopdescr
}

Обратите внимание, что \tex{externalfigure} размещен внутри параграфа. Если мы
отделим \tex{externalfigure} пустыми строками от текста сверху и снизу, то
картика окажется в отдельном параграфе и после верстки будет выглядеть абсолютно
иначе:

\vbox{
\startdescr{code:} \hfill
\startTEX
вот идет обычный параграв

\externalfigure[example.jpg][height=2em]

а вот уже совсем другой параграф
\stopTEX
\stopdescr
}

\vbox{
\startdescr{result:} \hfill
\startCODERESULT
вот идет обычный параграв

\externalfigure[example.jpg][height=2em]

а вот уже совсем другой параграф
\stopCODERESULT
\stopdescr
}

Не забывайте о параграфах, когда верстаете текст.

\vbox{
А вот что получается, когда указываешь \quote{factor=fit} в параметрах
к \\ \tex{externalfigure}

\externalfigure[example.jpg][factor=fit]
}

Более подробно в
\goto{документации}[url(http://wiki.contextgarden.net/Command/externalfigure)]

\section{\tex{placefigure}}

\tex{placefigure} указывает, как расположить картинку в тексте, а также,
позволяет добавить подпись к картинке. Есть 3 варианта расположения картинки

\startitemize
\item слева - указываем параметр left
\item справа - параметр right
\item по центру - параметр here
\stopitemize

\startdescr{code:} \hfill
\startTEX
\placefigure[left]{Пример}{
\externalfigure[example.jpg][width=5cm]
}

Равным образом консультация с широким активом
позволяет оценить значение форм
развития. Разнообразный и богатый опыт постоянное
информационно-пропагандистское обеспечение нашей
деятельности обеспечивает широкому кругу
(специалистов) участие в формировании форм
развития.
\stopTEX
\stopdescr

\vbox{
\startdescr{result:} \hfill \\
\placefigure[left]{Пример}{
\externalfigure[example.jpg][width=5cm]
}

Равным образом консультация с широким активом
позволяет оценить значение форм
развития. Разнообразный и богатый опыт постоянное
информационно-пропагандистское обеспечение нашей
деятельности обеспечивает широкому кругу
(специалистов) участие в формировании форм
развития.
\stopdescr
}

\blank[2.5cm]
Как можно заметить в примере выше, картинка расположена слева, при этом текст,
{\bf идущий после объявления \tex{placefigure}} обтекает картинку справа. Текст,
{\bf написанный до \tex{placefigure}} при верстке будет идти выше
картинки. Таким образом, можно управлять расположением картинки. \\
Еще пример:

\vbox{
\startdescr{code:} \hfill
\startTEX
Задача организации, в особенности же постоянный
количественный рост и сфера нашей активности в
значительной степени обуславливает создание модели
развития.

\placefigure[right]{Пример}{
\externalfigure[example.jpg][width=5cm]
}

Равным образом консультация с широким активом
позволяет оценить значение форм
развития. Разнообразный и богатый опыт постоянное
информационно-пропагандистское обеспечение нашей
деятельности обеспечивает широкому кругу
(специалистов) участие в формировании форм
развития.
\stopTEX
\stopdescr

\startdescr{result:} \hfill \\
Задача организации, в особенности же постоянный
количественный рост и сфера нашей активности в
значительной степени обуславливает создание модели
развития.

\placefigure[right]{Пример}{
\externalfigure[example.jpg][width=5cm]
}

Равным образом консультация с широким активом
позволяет оценить значение форм
развития. Разнообразный и богатый опыт постоянное
информационно-пропагандистское обеспечение нашей
деятельности обеспечивает широкому кругу
(специалистов) участие в формировании форм
развития.
\stopdescr
}

\blank[2cm]
Картинка расположена ровно под первым параграфом. Зато второй параграф ровно
обтекает ее слева.

Можно отключить обтекание и расположить картинку по центру вот так:

\vbox{
\startdescr{code:} \hfill
\startTEX
Задача организации, в особенности же постоянный
количественный рост и сфера нашей активности в
значительной степени обуславливает создание модели
развития.

\placefigure[here,none]{}{
\externalfigure[example.jpg][width=5cm]
}

Равным образом консультация с широким активом
позволяет оценить значение форм
развития.
\stopTEX
\stopdescr
}

\startdescr{result:} \hfill \\
Задача организации, в особенности же постоянный
количественный рост и сфера нашей активности в
значительной степени обуславливает создание модели
развития.

\placefigure[here,none]{}{
\externalfigure[example.jpg][width=5cm]
}

Равным образом консультация с широким активом
позволяет оценить значение форм
развития.
\stopdescr

Вы могли заметить, что использовался параметр \quote{none}. Если подпись к
картинке не нужна, то нужно указать этот параметр и оставить подпись к картинке
пустой.

Вызов \tex{placefigure} выглядит так:

\startTEX
\placefigure[params]{caption}{figure placing code}
\stopTEX

\quote{params} - разделенный запятыми список параметров.
При верствке потребуются всего несколько значений параметров.

\placetable[here,top]{Параметры для \tex{placefigure}}{
\bTABLE
\bTR
\bTD left \eTD
\bTD Разместить картинку слева, текст будет обтекать ее справа. \eTD
\eTR

\bTR
\bTD right \eTD
\bTD Разместить картинку справа \eTD
\eTR

\bTR
\bTD here \eTD
\bTD Разместить картинку ровно там, где указано. Обтекания текста не будет. \eTD
\eTR

\bTR
\bTD top \eTD
\bTD Разместить картинку в самом верху страницы, выдрав ее из текста.
Где бы картинка ни была расположена в тексте, она будет сверстана вверху
страницы.\eTD
\eTR

\bTR
\bTD bottom \eTD
\bTD Разместить картинку внизу страницы, выдрав ее из текста. \eTD
\eTR

\bTR
\bTD none \eTD
\bTD Не добавлять подпись к картинке. \eTD
\eTR

\eTABLE}

Дополнительная инфа в
\goto{документации}[url(http://wiki.contextgarden.net/Floating_Objects)]
